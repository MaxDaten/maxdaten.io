---
phase: 09-navigation-layout
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
    - src/routes/[slug]/+page.svelte
    - src/lib/components/atoms/Card.svelte
autonomous: true

must_haves:
    truths:
        - 'Hero images use aspect-ratio instead of fixed height'
        - 'Desktop hero shows 2:1 ultra-wide ratio'
        - 'Mobile hero shows 16:9 taller ratio'
        - 'Card images use consistent aspect-ratio'
    artifacts:
        - path: 'src/routes/[slug]/+page.svelte'
          provides: 'Responsive hero image with aspect-ratio'
          contains: 'aspect-ratio'
        - path: 'src/lib/components/atoms/Card.svelte'
          provides: 'Card with aspect-ratio image'
          contains: 'aspect-ratio'
    key_links:
        - from: '+page.svelte .cover-image-container'
          to: 'CSS aspect-ratio property'
          via: 'responsive aspect-ratio'
          pattern: "aspect-ratio:\\s*2\\s*/\\s*1"
---

<objective>
Convert hero and card images from fixed height to responsive aspect-ratio.

Purpose: Images adapt to viewport without clipping. Consistent visual rhythm. Output: Hero images
2:1 on desktop, 16:9 on mobile. Cards use aspect-ratio. </objective>

<execution_context> @./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md </execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/09-navigation-layout/09-CONTEXT.md
@.planning/phases/09-navigation-layout/09-RESEARCH.md
@src/routes/[slug]/+page.svelte
@src/lib/components/atoms/Card.svelte
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert blog post hero to aspect-ratio</name>
  <files>src/routes/[slug]/+page.svelte</files>
  <action>
In `.cover-image-container` styles, replace fixed height with aspect-ratio:

Remove:

```scss
height: 400px;
```

Add:

```scss
aspect-ratio: 2 / 1; /* Desktop: ultra-wide per CONTEXT.md */
```

Keep existing:

- `border-radius: 12px`
- `overflow: hidden`
- `width: 1000px`
- `margin: 0 auto`

Keep the breakout transform for mid-sized screens:

```scss
@media (max-width: 1060px) {
    transform: translateX(calc((1100px - 100vw) / -2));
    width: 1100px;
}
```

Add mobile responsive ratio:

```scss
@media (max-width: 767px) {
    aspect-ratio: 16 / 9; /* Mobile: taller for better proportion */
    width: 100%;
    transform: none;
}
```

Ensure inner image fills container:

```scss
.sanity-cover {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center; /* Center crop per CONTEXT.md */
}
```

  </action>
  <verify>
Run `npm run dev` and navigate to a blog post with cover image.
Desktop: Image displays as wide cinematic ratio (2:1).
Mobile (DevTools): Image displays as 16:9, taller than desktop.
Image centers its content without awkward cropping.
  </verify>
  <done>
Hero image uses aspect-ratio 2:1 on desktop, 16:9 on mobile.
No fixed height. Image scales responsively.
  </done>
</task>

<task type="auto">
  <name>Task 2: Convert Card image to aspect-ratio</name>
  <files>src/lib/components/atoms/Card.svelte</files>
  <action>
In `.image` styles, replace fixed height with aspect-ratio:

Remove:

```scss
height: 350px;
```

Add:

```scss
aspect-ratio: 16 / 9; /* Consistent card image ratio */
```

Keep existing:

- `z-index: 1`
- `position: relative`
- `flex: 0 1 auto`

This ensures card images have consistent proportions regardless of content. The 16:9 ratio works
well for blog post thumbnails and gem cards. </action> <verify> Run `npm run dev` and visit /blog
page. Card images should display with consistent 16:9 ratio. No images should appear stretched or
have letterboxing. Check /gems page - same consistent ratio. </verify> <done> Card images use
aspect-ratio 16:9. Consistent proportions across all cards. </done> </task>

</tasks>

<verification>
Visual verification:
1. Blog post hero: 2:1 on desktop, 16:9 on mobile
2. Blog listing cards: 16:9 ratio, consistent across all cards
3. Gems cards: Same 16:9 ratio
4. No awkward cropping on any images
5. Images center-crop their content

Code verification:

- `npm run check` passes
- `npm run lint` passes </verification>

<success_criteria>

- [ ] Hero images use aspect-ratio (not fixed height)
- [ ] Desktop hero is 2:1 ultra-wide
- [ ] Mobile hero is 16:9
- [ ] Card images are 16:9
- [ ] Images use object-fit: cover and center positioning
- [ ] No TypeScript or lint errors </success_criteria>

<output>
After completion, create `.planning/phases/09-navigation-layout/09-03-SUMMARY.md`
</output>
