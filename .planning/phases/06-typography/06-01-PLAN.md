---
phase: 06-typography
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
    - src/lib/scss/_variables.scss
    - src/lib/scss/global.scss
    - src/lib/scss/_typography.scss
    - package.json
autonomous: true

must_haves:
    truths:
        - 'Headings display in Inter font (not Merriweather serif)'
        - 'Code blocks display in JetBrains Mono'
        - 'Logo displays in Baloo-2 (unchanged)'
        - 'Only 3 custom fonts load: Inter, JetBrains Mono, Baloo-2'
    artifacts:
        - path: 'src/lib/scss/_variables.scss'
          provides: 'Updated font variables'
          contains: 'JetBrains Mono'
        - path: 'src/lib/scss/global.scss'
          provides: 'Updated font imports'
          contains: '@fontsource/jetbrains-mono'
        - path: 'src/lib/scss/_typography.scss'
          provides: 'Headings using --font--default'
          contains: '--font--default'
    key_links:
        - from: 'src/lib/scss/_typography.scss'
          to: 'src/lib/scss/_variables.scss'
          via: 'font-family: var(--font--default)'
          pattern: '--font--default'
---

<objective>
Consolidate font families from 4 to 3 custom fonts

Purpose: Reduce font loading overhead and unify the visual language by using Inter for all text
(body and headings) and JetBrains Mono for code/meta elements. This is the highest-impact change in
the typography phase.

Output: Updated font variable definitions, new JetBrains Mono package installed, Merriweather and
Ubuntu Mono removed. </objective>

<execution_context> @./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md </execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-typography/06-CONTEXT.md
@.planning/phases/06-typography/06-RESEARCH.md
@src/lib/scss/_variables.scss
@src/lib/scss/global.scss
@src/lib/scss/_typography.scss
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install JetBrains Mono and remove obsolete font packages</name>
  <files>package.json</files>
  <action>
    Run npm commands to swap font packages:

    1. Install JetBrains Mono (static, 400 weight only needed):
       `npm install @fontsource/jetbrains-mono`

    2. Remove Merriweather and Ubuntu Mono:
       `npm uninstall @fontsource-variable/merriweather @fontsource/ubuntu-mono`

    Note: Using static @fontsource/jetbrains-mono (not variable) because only 400 weight is needed for code and meta elements. Variable fonts are overkill for single-weight usage.

  </action>
  <verify>`npm ls @fontsource/jetbrains-mono` shows package installed, `npm ls @fontsource-variable/merriweather @fontsource/ubuntu-mono` shows not installed</verify>
  <done>JetBrains Mono installed, Merriweather and Ubuntu Mono removed from package.json</done>
</task>

<task type="auto">
  <name>Task 2: Update font imports in global.scss</name>
  <files>src/lib/scss/global.scss</files>
  <action>
    Update font loading configuration in global.scss:

    1. Replace the Merriweather import with nothing (remove lines 18, 34-43):
       - Remove: `@use 'pkg:@fontsource-variable/merriweather/scss' as Merriweather;`
       - Remove: The entire `@include fontsource.faces(...)` block for Merriweather

    2. Replace Ubuntu Mono import with JetBrains Mono (lines 19, 45-53):
       - Change: `@use 'pkg:@fontsource/ubuntu-mono/scss' as Ubuntu-Mono;`
       - To: `@use 'pkg:@fontsource/jetbrains-mono/scss' as JetBrains-Mono;`

       - Change the faces include from:
         ```scss
         @include fontsource.faces(
             $metadata: Ubuntu-Mono.$metadata,
             $family: 'Ubuntu Mono',
             $subsets: latin,
             $weights: (400),
             $styles: all
         );
         ```
       - To:
         ```scss
         @include fontsource.faces(
             $metadata: JetBrains-Mono.$metadata,
             $family: 'JetBrains Mono',
             $subsets: latin,
             $weights: (400),
             $styles: all
         );
         ```

    3. Keep Inter and Baloo-2 imports unchanged.

  </action>
  <verify>`npm run build` succeeds with no font-related errors</verify>
  <done>global.scss imports JetBrains Mono instead of Ubuntu Mono, Merriweather completely removed</done>
</task>

<task type="auto">
  <name>Task 3: Update font variable definitions</name>
  <files>src/lib/scss/_variables.scss, src/lib/scss/_typography.scss</files>
  <action>
    1. In _variables.scss, update the font CSS custom properties:
       - Change line 4: `--font--title: 'Merriweather', serif;`
       - To: `--font--title: var(--font--default);`
       (This makes headings use Inter like body text. The variable is kept for backward compatibility.)

       - Change line 6: `--font--mono: 'Ubuntu Mono', monospace;`
       - To: `--font--mono: 'JetBrains Mono', monospace;`

    2. In _typography.scss, update the heading font-family declaration (lines 58-64):
       - Change: `font-family: var(--font--title);`
       - To: `font-family: var(--font--default);`
       (Explicit override ensures headings use Inter even if --font--title is overridden elsewhere)

  </action>
  <verify>Run `npm run dev`, visually confirm headings display in sans-serif (Inter) not serif (Merriweather)</verify>
  <done>--font--title aliases to --font--default, --font--mono uses JetBrains Mono, headings render in Inter</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` passes without font-related errors
2. `npm ls @fontsource/jetbrains-mono` shows installed
3. `npm ls @fontsource-variable/merriweather @fontsource/ubuntu-mono` shows NOT installed
4. DevTools shows 3 custom font families loading: Inter, JetBrains Mono, Baloo-2
5. Headings on blog posts display in Inter (sans-serif)
6. Code blocks display in JetBrains Mono
7. Logo still displays in Baloo-2
</verification>

<success_criteria>

- TYPO-05 partially complete: Font families consolidated from 4 to 3
- Headings use geometric sans (Inter) matching body text
- Code blocks use JetBrains Mono (better readability than Ubuntu Mono)
- No Merriweather or Ubuntu Mono references remain in codebase
- Site renders correctly with no flash of unstyled text issues </success_criteria>

<output>
After completion, create `.planning/phases/06-typography/06-01-SUMMARY.md`
</output>
