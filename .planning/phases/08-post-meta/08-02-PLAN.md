---
phase: 08-post-meta
plan: 02
type: execute
wave: 2
depends_on: ['08-01']
files_modified:
    - src/routes/[slug]/+page.svelte
    - src/lib/components/molecules/Author.svelte
    - src/lib/components/molecules/AuthorCard.svelte
autonomous: false

must_haves:
    truths:
        - 'Meta line shows Author . Reading Time in single line (desktop)'
        - 'Meta line stacks on mobile'
        - 'Author name displays in orange accent color'
        - 'Social links only appear in bottom AuthorCard'
        - 'AuthorCard avatar is 32-36px'
        - 'Small inline avatar (16-20px) appears with author name'
    artifacts:
        - path: 'src/routes/[slug]/+page.svelte'
          provides: 'Consolidated meta line with inline author'
          contains: 'meta-line'
        - path: 'src/lib/components/molecules/Author.svelte'
          provides: 'Simplified Author without socials'
        - path: 'src/lib/components/molecules/AuthorCard.svelte'
          provides: 'Reduced avatar size with subtle background'
          contains: '36px'
    key_links:
        - from: 'src/routes/[slug]/+page.svelte'
          to: 'AuthorCard'
          via: 'import and usage at bottom of post'
          pattern: 'AuthorCard.*author'
---

<objective>
Consolidate meta line format and clean up author components

Purpose: Creates professional, cohesive metadata presentation matching design system Output: Unified
meta line with inline author, cleaned up Author/AuthorCard components </objective>

<execution_context> @./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md </execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-post-meta/08-CONTEXT.md
@.planning/phases/08-post-meta/08-RESEARCH.md
@.planning/phases/08-post-meta/08-01-SUMMARY.md
@src/routes/[slug]/+page.svelte
@src/lib/components/molecules/Author.svelte
@src/lib/components/molecules/AuthorCard.svelte
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create consolidated meta line in post header</name>
  <files>src/routes/[slug]/+page.svelte</files>
  <action>
Replace the current `.metadata` section with a consolidated meta line:

1. Remove the `Author` component import and usage from header (will be replaced with inline
   rendering)

2. Replace the `.metadata` div with a new `.meta-line`:

    ```svelte
    <div class="meta-line">
        {#if author}
            <span class="author">
                {#if author.avatarUrl}
                    <img
                        class="avatar-inline"
                        src={author.avatarUrl}
                        alt=""
                        width="18"
                        height="18"
                    />
                {/if}
                <span class="author-name">{author.name}</span>
            </span>
            <span class="separator">â€¢</span>
        {/if}
        {#if readingTimeMinutes}
            <span class="reading-time">{readingTimeMinutes} min read</span>
        {/if}
    </div>
    ```

3. Add `.meta-line` styles (inside existing `article` styles):

    ```scss
    .meta-line {
        display: flex;
        align-items: center;
        gap: 8px;
        font-family: var(--font--mono), monospace;
        font-size: 13px;
        color: rgba(var(--color--secondary-rgb), 0.7);

        @include breakpoints.for-phone-only {
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }
    }

    .avatar-inline {
        width: 18px;
        height: 18px;
        border-radius: 4px;
        object-fit: cover;
        vertical-align: middle;
    }

    .author {
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .author-name {
        color: var(--color--primary);
        font-weight: 500;
    }

    .separator {
        color: rgba(var(--color--secondary-rgb), 0.4);

        @include breakpoints.for-phone-only {
            display: none;
        }
    }

    .reading-time {
        // Inherits from .meta-line
    }
    ```

4. Remove the old `.metadata` and `.post-details` styles that are no longer used

5. Keep the `AuthorCard` component at the bottom of the post content (it remains unchanged in usage)

Note: The `Author` component import can be removed since we're rendering inline now. </action>
<verify>`npm run dev` shows meta line below title with author name in orange, bullet separator,
reading time</verify> <done>Meta line displays as "Author . X min read", stacks on mobile, author
name is orange</done> </task>

<task type="auto">
  <name>Task 2: Remove socials from Author.svelte</name>
  <files>src/lib/components/molecules/Author.svelte</files>
  <action>
Simplify Author.svelte by removing social links (socials now only appear in AuthorCard):

1. Remove `Socials` component import:
    - Delete: `import Socials from '$components/molecules/Socials.svelte';`

2. Remove socials usage from template:
    - Delete the entire block:
      `{#if author.socials}<Socials {...author.socials} size="small" />{/if}`

3. Update the `.author-details` div to only contain the name:

    ```svelte
    <div class="author-details" aria-label="{author.name}'s details">
        <span class="name">{author.name}</span>
    </div>
    ```

4. Clean up associated styles that referenced socials:
    - Remove `:global(.socials)` style rule from `.author-details`

5. Reduce avatar size from 44px to 32px:
    - Update width/height attributes in img tag: `width="32" height="32"`
    - Update `:global(.avatar)` styles: `width: 32px; height: 32px;`
    - Update `.avatar-placeholder` styles: `width: 32px; height: 32px;`

Note: This component is kept for potential future reuse but is no longer used in post header.
</action> <verify>`npm run check` passes, no references to Socials in Author.svelte</verify>
<done>Author.svelte has no social links, avatar is 32px</done> </task>

<task type="auto">
  <name>Task 3: Update AuthorCard with reduced avatar and subtle background</name>
  <files>src/lib/components/molecules/AuthorCard.svelte</files>
  <action>
Update AuthorCard.svelte for Phase 8 requirements:

1. Reduce avatar size from 56px to 36px:
    - Update img tag: `width="36" height="36"`
    - Update `:global(.avatar)` in `.avatar-section`: `width: 36px; height: 36px;`
    - Update `.avatar-placeholder`: `width: 36px; height: 36px;`
    - Update mobile sizes proportionally (from 48px to 32px):
        - Mobile `:global(.avatar)`: `width: 32px; height: 32px;`
        - Mobile `.avatar-placeholder`: `width: 32px; height: 32px;`

2. Add subtle background tint to `.author-callout`:

    ```scss
    .author-callout {
        // ... existing styles ...
        background: rgba(var(--color--secondary-rgb), 0.03);
        // Keep existing border for definition
    }
    ```

3. Social links remain in AuthorCard (already correct per requirements)

Note: Social icons maximum 3 platforms - this is already handled by the Socials component showing
only what's provided. If more than 3 are configured in Sanity, that's a content concern not a code
concern. </action> <verify>`npm run dev` shows AuthorCard with smaller avatar (36px), subtle
background tint visible</verify> <done>AuthorCard has 36px avatar, subtle background tint, social
links remain</done> </task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete post meta redesign: date above title, consolidated meta line, updated author components</what-built>
  <how-to-verify>
1. Run `npm run dev`
2. Navigate to a blog post (e.g., http://localhost:5174/haskell-on-nix)
3. Verify the following:
   - Date appears ABOVE the title in uppercase monospace (e.g., "JAN 20, 2026")
   - Meta line shows: [small avatar] Author Name . X min read
   - Author name is orange
   - Meta line stacks on mobile (resize browser or use dev tools)
   - NO social icons appear in the header area
4. Scroll to bottom of post
5. Verify AuthorCard:
   - Avatar is smaller (36px desktop, 32px mobile)
   - Has subtle background tint
   - Social icons appear here (not in header)
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- `npm run check` passes with no TypeScript errors
- `npm run dev` shows complete post meta redesign
- Date above title in uppercase monospace
- Meta line: Author (with small avatar, orange name) . Reading Time
- AuthorCard: 36px avatar, subtle background, social links present
- Mobile: Meta line stacks, AuthorCard avatar 32px
</verification>

<success_criteria>

- All 5 Phase 8 requirements met (META-01 through META-05)
- Post header visually cleaner with date as entry point
- Author social links consolidated to bottom AuthorCard only
- Consistent with design system established in Phases 5-7 </success_criteria>

<output>
After completion, create `.planning/phases/08-post-meta/08-02-SUMMARY.md`
</output>
